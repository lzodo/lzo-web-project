<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			// 网络请求的工具函数
			function request(url, callbackFn) {
				var results = ["abc", "cba", "nba"];
				callbackFn(results);
			}

			// 实际操作的位置(业务)
			var obj = {
				names: [],
				network: function () {
					// 1.早期的时候,这时传进去的回调函数，是在request里面直接调用，this指向window
					// var _this = this  // 对象时没有作用域的，能取到this的原因是network是通过 obj 调用的
					// request("/names", function(res) {
					//   _this.names = [].concat(res)
					// })

					// 2.箭头函数写法
					request("/names", (res) => {
						this.names = [].concat(res);
					});
				},
			};

			obj.network();
			console.log(obj);
		</script>
	</body>
</html>
